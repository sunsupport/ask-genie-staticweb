"use strict";(self["webpackChunkweweb_front"]=self["webpackChunkweweb_front"]||[]).push([[4],{2703:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(641),n=a(3751);const i=["value","name","required","readonly","multiple","accept"];function r(e,t,a,r,o,u){const s=(0,l.g2)("wwLayout");return(0,l.uX)(),(0,l.CE)("div",{class:"ww-input-file-drop",onClick:t[1]||(t[1]=(...e)=>u.openFileExplorer&&u.openFileExplorer(...e)),onDragenter:t[2]||(t[2]=(...e)=>u.onDragEnter&&u.onDragEnter(...e)),onDragleave:[t[3]||(t[3]=(...e)=>u.onDragLeave&&u.onDragLeave(...e)),t[4]||(t[4]=(0,n.D$)((()=>{}),["prevent"]))],onDragover:t[5]||(t[5]=(...e)=>u.onDragOver&&u.onDragOver(...e)),onDrop:t[6]||(t[6]=(0,n.D$)((e=>u.drop(e)),["prevent"]))},[(0,l.bF)(s,{class:"ww-input-file-drop__layout",path:"layout"}),(0,l.Lk)("input",{ref:"inputFile",value:e.localValue,class:"ww-input-file-drop__input",type:"file",name:a.wwElementState.name,required:u.required,readonly:u.isReadonly,multiple:a.content.multiple,accept:u.accept,onInput:t[0]||(t[0]=e=>u.handleManualInput(e))},null,40,i)],32)}const o={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","add-state","remove-state"],setup(e){const{value:t,setValue:a}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",defaultValue:null,componentType:"element",type:"file",readonly:!0,resettable:!0});return wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"progress",defaultValue:0,componentType:"element",type:"number",readonly:!0}),{variableValue:t,setValue:a}},data(){return{isDragging:!1}},computed:{required(){return this.content.required&&!this.variableValue},isEditing(){return!1},value(){return this.variableValue},accept(){switch(this.content.accept){case"image":return"image/*";case"video":return"video/*";case"audio":return"audio/*";case"pdf":return".pdf";case"csv":return".csv";case"excel":return".xls,.xlsb,.xlsm,.xlsx";case"word":return".doc,.docm,.docx";case"json":return".json";case"custom":return this.content.acceptCustom;case"any":default:return""}},isReadonly(){return void 0===this.wwElementState.props.readonly?this.content.readonly:this.wwElementState.props.readonly}},watch:{isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}},isDragging:{immediate:!0,handler(e){e?this.$emit("add-state","drop"):this.$emit("remove-state","drop")}}},methods:{drop(e){this.isDragging=!1;const t=e.dataTransfer?.files;if(!t)return;const a=[...t].map((e=>new File([e],e.name,{type:e.type}))),l=a.filter((e=>{if(!this.accept)return!0;{const t=this.accept.split(",");for(const a of t){if(e.name.trim().toLowerCase().endsWith(a.trim()))return!0;if(e.type.trim().toLowerCase()===a.replace(".","").trim())return!0}}return!1})),n=a.filter((e=>!l.includes(e)));if(n.length){const t=this.content.multiple;this.$emit("trigger-event",{name:"invalidFile",event:{domEvent:e,value:t?n:n[0]}})}this.handleFiles(e,l)},handleManualInput(e){this.handleFiles(e,[...this.$refs["inputFile"].files])},handleFiles(e,t){if(!t||!t.length)return;const a=this.content.multiple;this.setValue(a?t:t[0]),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:a?t:t[0]}})},openFileExplorer(){this.isEditing||this.isReadonly||this.$refs["inputFile"].click()},onDragEnter(e){this.isEditing||this.isReadonly||(e.preventDefault(),e.stopPropagation(),this.isDragging=!0)},onDragLeave(e){this.isEditing||this.isReadonly||(e.preventDefault(),e.stopPropagation(),this.isDragging=!1)},onDragOver(e){this.isEditing||this.isReadonly||(e.preventDefault(),e.stopPropagation())}}};var u=a(6262);const s=(0,u.A)(o,[["render",r],["__scopeId","data-v-458d0426"]]),c=s},3100:(e,t,a)=>{a.d(t,{A:()=>d});var l=a(641),n=a(33),i=a(3751);const r=["name","autocomplete"];function o(e,t,a,o,u,s){const c=(0,l.g2)("wwLayout");return(0,l.uX)(),(0,l.CE)("form",{name:s.formName,autocomplete:a.content.autocomplete,class:(0,n.C4)(["ww-form-container",{editing:s.isEditing,selected:s.isSelected}]),"data-ww-flag":"form-container",onSubmit:t[0]||(t[0]=(0,i.D$)(((...e)=>s.onSubmit&&s.onSubmit(...e)),["prevent"]))},[(0,l.bF)(c,{class:"ww-form-container__content",path:"formContent","ww-responsive":"wwLayout"})],42,r)}const u={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event"],computed:{formName(){return this.wwElementState.name},isEditing(){return!1},isSelected(){return!1}},methods:{async onSubmit(){this.$emit("trigger-event",{name:"submit"})}}};var s=a(6262);const c=(0,s.A)(u,[["render",o],["__scopeId","data-v-99bfa12c"]]),d=c},3754:(e,t,a)=>{a.d(t,{A:()=>C});var l=a(953),n=a(641),i=a(33),r=a(3751);function o(e){return-1!==[null,void 0].indexOf(e)}function u(e,t,a){const{object:i,valueProp:r,mode:u}=(0,l.QW)(e),s=(0,n.nI)().proxy,c=a.iv,d=(e,a=!0)=>{c.value=v(e);const l=p(e);t.emit("change",l,s),a&&(t.emit("input",l),t.emit("update:modelValue",l))},p=e=>i.value||o(e)?e:Array.isArray(e)?e.map((e=>e[r.value])):e[r.value],v=e=>o(e)?"single"===u.value?{}:[]:e;return{update:d}}function s(e,t){const{value:a,modelValue:i,mode:r,valueProp:o}=(0,l.QW)(e),u=(0,l.KR)("single"!==r.value?[]:{}),s=i&&void 0!==i.value?i:a,c=(0,n.EW)((()=>"single"===r.value?u.value[o.value]:u.value.map((e=>e[o.value])))),d=(0,n.EW)((()=>"single"!==r.value?u.value.map((e=>e[o.value])).join(","):u.value[o.value]));return{iv:u,internalValue:u,ev:s,externalValue:s,textValue:d,plainValue:c}}function c(e,t,a){const{regex:i}=(0,l.QW)(e),r=(0,n.nI)().proxy,o=a.isOpen,u=a.open,s=(0,l.KR)(null),c=(0,l.KR)(null),d=()=>{s.value=""},p=e=>{s.value=e.target.value},v=e=>{if(i&&i.value){let t=i.value;"string"===typeof t&&(t=new RegExp(t)),e.key.match(t)||e.preventDefault()}},h=e=>{if(i&&i.value){let t=e.clipboardData||window.clipboardData,a=t.getData("Text"),l=i.value;"string"===typeof l&&(l=new RegExp(l)),a.split("").every((e=>!!e.match(l)))||e.preventDefault()}t.emit("paste",e,r)};return(0,n.wB)(s,(e=>{!o.value&&e&&u(),t.emit("search-change",e,r)})),{search:s,input:c,clearSearch:d,handleSearchInput:p,handleKeypress:v,handlePaste:h}}function d(e,t,a){const{groupSelect:n,mode:i,groups:r,disabledProp:o}=(0,l.QW)(e),u=(0,l.KR)(null),s=e=>{void 0===e||null!==e&&e[o.value]||r.value&&e&&e.group&&("single"===i.value||!n.value)||(u.value=e)},c=()=>{s(null)};return{pointer:u,setPointer:s,clearPointer:c}}function p(e,t=!0){return t?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function v(e){return"[object Object]"===Object.prototype.toString.call(e)}function h(e,t){const a=t.slice().sort();return e.length===t.length&&e.slice().sort().every((function(e,t){return e===a[t]}))}function g(e,t,a){const{options:i,mode:r,trackBy:u,limit:s,hideSelected:c,createTag:d,createOption:g,label:m,appendNewTag:f,appendNewOption:b,multipleLabel:y,object:w,loading:E,delay:L,resolveOnLoad:S,minChars:O,filterResults:C,clearOnSearch:x,clearOnSelect:k,valueProp:_,allowAbsent:T,groupLabel:q,canDeselect:R,max:I,strict:P,closeOnSelect:D,closeOnDeselect:W,groups:F,reverse:V,infinite:B,groupOptions:A,groupHideEmpty:j,groupSelect:$,onCreate:K,disabledProp:Q,searchStart:M,searchFilter:X}=(0,l.QW)(e),G=(0,n.nI)().proxy,N=a.iv,H=a.ev,z=a.search,U=a.clearSearch,Y=a.update,J=a.pointer,Z=a.clearPointer,ee=a.focus,te=a.deactivate,ae=a.close,le=a.localize,ne=(0,l.KR)([]),ie=(0,l.KR)([]),re=(0,l.KR)(!1),oe=(0,l.KR)(null),ue=(0,l.KR)(B.value&&-1===s.value?10:s.value),se=(0,n.EW)((()=>d.value||g.value||!1)),ce=(0,n.EW)((()=>void 0!==f.value?f.value:void 0===b.value||b.value)),de=(0,n.EW)((()=>{if(F.value){let e=he.value||[],t=[];return e.forEach((e=>{Ne(e[A.value]).forEach((a=>{t.push(Object.assign({},a,e[Q.value]?{[Q.value]:!0}:{}))}))})),t}{let e=Ne(ie.value||[]);return ne.value.length&&(e=e.concat(ne.value)),e}})),pe=(0,n.EW)((()=>{let e=de.value;return V.value&&(e=e.reverse()),Ee.value.length&&(e=Ee.value.concat(e)),Ge(e)})),ve=(0,n.EW)((()=>{let e=pe.value;return ue.value>0&&(e=e.slice(0,ue.value)),e})),he=(0,n.EW)((()=>{if(!F.value)return[];let e=[],t=ie.value||[];return ne.value.length&&e.push({[q.value]:" ",[A.value]:[...ne.value],__CREATE__:!0}),e.concat(t)})),ge=(0,n.EW)((()=>{let e=[...he.value].map((e=>({...e})));return Ee.value.length&&(e[0]&&e[0].__CREATE__?e[0][A.value]=[...Ee.value,...e[0][A.value]]:e=[{[q.value]:" ",[A.value]:[...Ee.value],__CREATE__:!0}].concat(e)),e})),me=(0,n.EW)((()=>{if(!F.value)return[];let e=ge.value;return Xe((e||[]).map(((e,t)=>{const a=Ne(e[A.value]);return{...e,index:t,group:!0,[A.value]:Ge(a,!1).map((t=>Object.assign({},t,e[Q.value]?{[Q.value]:!0}:{}))),__VISIBLE__:Ge(a).map((t=>Object.assign({},t,e[Q.value]?{[Q.value]:!0}:{})))}})))})),fe=(0,n.EW)((()=>{switch(r.value){case"single":return!o(N.value[_.value]);case"multiple":case"tags":return!o(N.value)&&N.value.length>0}})),be=(0,n.EW)((()=>void 0!==y&&void 0!==y.value?y.value(N.value,G):N.value&&N.value.length>1?`${N.value.length} options selected`:"1 option selected")),ye=(0,n.EW)((()=>!de.value.length&&!re.value&&!Ee.value.length)),we=(0,n.EW)((()=>de.value.length>0&&0==ve.value.length&&(z.value&&F.value||!F.value))),Ee=(0,n.EW)((()=>!1!==se.value&&z.value?-1!==Ke(z.value)?[]:[{[_.value]:z.value,[Le.value]:z.value,[m.value]:z.value,__CREATE__:!0}]:[])),Le=(0,n.EW)((()=>u.value||m.value)),Se=(0,n.EW)((()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}})),Oe=(0,n.EW)((()=>E.value||re.value)),Ce=e=>{switch("object"!==typeof e&&(e=$e(e)),r.value){case"single":Y(e);break;case"multiple":case"tags":Y(N.value.concat(e));break}t.emit("select",ke(e),e,G)},xe=e=>{switch("object"!==typeof e&&(e=$e(e)),r.value){case"single":qe();break;case"tags":case"multiple":Y(Array.isArray(e)?N.value.filter((t=>-1===e.map((e=>e[_.value])).indexOf(t[_.value]))):N.value.filter((t=>t[_.value]!=e[_.value])));break}t.emit("deselect",ke(e),e,G)},ke=e=>w.value?e:e[_.value],_e=e=>{xe(e)},Te=(e,t)=>{0===t.button?_e(e):t.preventDefault()},qe=()=>{t.emit("clear",G),Y(Se.value)},Re=e=>{if(void 0!==e.group)return"single"!==r.value&&(je(e[A.value])&&e[A.value].length);switch(r.value){case"single":return!o(N.value)&&N.value[_.value]==e[_.value];case"tags":case"multiple":return!o(N.value)&&-1!==N.value.map((e=>e[_.value])).indexOf(e[_.value])}},Ie=e=>!0===e[Q.value],Pe=()=>!(void 0===I||-1===I.value||!fe.value&&I.value>0)&&N.value.length>=I.value,De=e=>{if(!Ie(e))return K&&K.value&&!Re(e)&&e.__CREATE__&&(e={...e},delete e.__CREATE__,e=K.value(e,G),e instanceof Promise)?(re.value=!0,void e.then((e=>{re.value=!1,We(e)}))):void We(e)},We=e=>{switch(e.__CREATE__&&(e={...e},delete e.__CREATE__),r.value){case"single":if(e&&Re(e))return R.value&&xe(e),void(W.value&&(Z(),ae()));e&&Ve(e),k.value&&U(),D.value&&(Z(),ae()),e&&Ce(e);break;case"multiple":if(e&&Re(e))return xe(e),void(W.value&&(Z(),ae()));if(Pe())return void t.emit("max",G);e&&(Ve(e),Ce(e)),k.value&&U(),c.value&&Z(),D.value&&ae();break;case"tags":if(e&&Re(e))return xe(e),void(W.value&&(Z(),ae()));if(Pe())return void t.emit("max",G);e&&Ve(e),k.value&&U(),e&&Ce(e),c.value&&Z(),D.value&&ae();break}D.value||ee()},Fe=e=>{if(!Ie(e)&&"single"!==r.value&&$.value){switch(r.value){case"multiple":case"tags":Ae(e[A.value])?xe(e[A.value]):Ce(e[A.value].filter((e=>-1===N.value.map((e=>e[_.value])).indexOf(e[_.value]))).filter((e=>!e[Q.value])).filter(((e,t)=>N.value.length+1+t<=I.value||-1===I.value)));break}D.value&&te()}},Ve=e=>{void 0===$e(e[_.value])&&se.value&&(t.emit("tag",e[_.value],G),t.emit("option",e[_.value],G),t.emit("create",e[_.value],G),ce.value&&Me(e),U())},Be=()=>{"single"!==r.value&&Ce(ve.value.filter((e=>!e.disabled&&!Re(e))))},Ae=e=>void 0===e.find((e=>!Re(e)&&!e[Q.value])),je=e=>void 0===e.find((e=>!Re(e))),$e=e=>de.value[de.value.map((e=>String(e[_.value]))).indexOf(String(e))],Ke=(e,t=!0)=>de.value.map((e=>parseInt(e[Le.value])==e[Le.value]?parseInt(e[Le.value]):e[Le.value])).indexOf(parseInt(e)==e?parseInt(e):e),Qe=e=>-1!==["tags","multiple"].indexOf(r.value)&&c.value&&Re(e),Me=e=>{ne.value.push(e)},Xe=e=>j.value?e.filter((e=>z.value?e.__VISIBLE__.length:e[A.value].length)):e.filter((e=>!z.value||e.__VISIBLE__.length)),Ge=(e,t=!0)=>{let a=e;if(z.value&&C.value){let e=X.value;e||(e=(e,t)=>{let a=p(le(e[Le.value]),P.value);return M.value?a.startsWith(p(z.value,P.value)):-1!==a.indexOf(p(z.value,P.value))}),a=a.filter(e)}return c.value&&t&&(a=a.filter((e=>!Qe(e)))),a},Ne=e=>{let t=e;return v(t)&&(t=Object.keys(t).map((e=>{let a=t[e];return{[_.value]:e,[Le.value]:a,[m.value]:a}}))),t=t.map((e=>"object"===typeof e?e:{[_.value]:e,[Le.value]:e,[m.value]:e})),t},He=()=>{o(H.value)||(N.value=Je(H.value))},ze=e=>(re.value=!0,new Promise(((t,a)=>{i.value(z.value,G).then((t=>{ie.value=t||[],"function"==typeof e&&e(t),re.value=!1})).catch((e=>{console.error(e),ie.value=[],re.value=!1})).finally((()=>{t()}))}))),Ue=()=>{if(fe.value)if("single"===r.value){let e=$e(N.value[_.value]);if(void 0!==e){let t=e[m.value];N.value[m.value]=t,w.value&&(H.value[m.value]=t)}}else N.value.forEach(((e,t)=>{let a=$e(N.value[t][_.value]);if(void 0!==a){let e=a[m.value];N.value[t][m.value]=e,w.value&&(H.value[t][m.value]=e)}}))},Ye=e=>{ze(e)},Je=e=>o(e)?"single"===r.value?{}:[]:w.value?e:"single"===r.value?$e(e)||(T.value?{[m.value]:e,[_.value]:e,[Le.value]:e}:{}):e.filter((e=>!!$e(e)||T.value)).map((e=>$e(e)||{[m.value]:e,[_.value]:e,[Le.value]:e})),Ze=()=>{oe.value=(0,n.wB)(z,(e=>{e.length<O.value||!e&&0!==O.value||(re.value=!0,x.value&&(ie.value=[]),setTimeout((()=>{e==z.value&&i.value(z.value,G).then((t=>{e!=z.value&&z.value||(ie.value=t,J.value=ve.value.filter((e=>!0!==e[Q.value]))[0]||null,re.value=!1)})).catch((e=>{console.error(e)}))}),L.value))}),{flush:"sync"})};if("single"!==r.value&&!o(H.value)&&!Array.isArray(H.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return i&&"function"==typeof i.value?S.value?ze(He):1==w.value&&He():(ie.value=i.value,He()),L.value>-1&&Ze(),(0,n.wB)(L,((e,t)=>{oe.value&&oe.value(),e>=0&&Ze()})),(0,n.wB)(H,(e=>{if(o(e))Y(Je(e),!1);else switch(r.value){case"single":(w.value?e[_.value]!=N.value[_.value]:e!=N.value[_.value])&&Y(Je(e),!1);break;case"multiple":case"tags":h(w.value?e.map((e=>e[_.value])):e,N.value.map((e=>e[_.value])))||Y(Je(e),!1);break}}),{deep:!0}),(0,n.wB)(i,((t,a)=>{"function"===typeof e.options?S.value&&(!a||t&&t.toString()!==a.toString())&&ze():(ie.value=e.options,Object.keys(N.value).length||He(),Ue())})),(0,n.wB)(m,Ue),{pfo:pe,fo:ve,filteredOptions:ve,hasSelected:fe,multipleLabelText:be,eo:de,extendedOptions:de,eg:he,extendedGroups:he,fg:me,filteredGroups:me,noOptions:ye,noResults:we,resolving:re,busy:Oe,offset:ue,select:Ce,deselect:xe,remove:_e,selectAll:Be,clear:qe,isSelected:Re,isDisabled:Ie,isMax:Pe,getOption:$e,handleOptionClick:De,handleGroupClick:Fe,handleTagRemove:Te,refreshOptions:Ye,resolveOptions:ze,refreshLabels:Ue}}function m(e,t,a){const{valueProp:i,showOptions:r,searchable:o,groupLabel:u,groups:s,mode:c,groupSelect:d,disabledProp:p,groupOptions:v}=(0,l.QW)(e),h=a.fo,g=a.fg,m=a.handleOptionClick,f=a.handleGroupClick,b=a.search,y=a.pointer,w=a.setPointer,E=a.clearPointer,L=a.multiselect,S=a.isOpen,O=(0,n.EW)((()=>h.value.filter((e=>!e[p.value])))),C=(0,n.EW)((()=>g.value.filter((e=>!e[p.value])))),x=(0,n.EW)((()=>"single"!==c.value&&d.value)),k=(0,n.EW)((()=>y.value&&y.value.group)),_=(0,n.EW)((()=>K(y.value))),T=(0,n.EW)((()=>{const e=k.value?y.value:K(y.value),t=C.value.map((e=>e[u.value])).indexOf(e[u.value]);let a=C.value[t-1];return void 0===a&&(a=R.value),a})),q=(0,n.EW)((()=>{let e=C.value.map((e=>e.label)).indexOf(k.value?y.value[u.value]:K(y.value)[u.value])+1;return C.value.length<=e&&(e=0),C.value[e]})),R=(0,n.EW)((()=>[...C.value].slice(-1)[0])),I=(0,n.EW)((()=>y.value.__VISIBLE__.filter((e=>!e[p.value]))[0])),P=(0,n.EW)((()=>{const e=_.value.__VISIBLE__.filter((e=>!e[p.value]));return e[e.map((e=>e[i.value])).indexOf(y.value[i.value])-1]})),D=(0,n.EW)((()=>{const e=K(y.value).__VISIBLE__.filter((e=>!e[p.value]));return e[e.map((e=>e[i.value])).indexOf(y.value[i.value])+1]})),W=(0,n.EW)((()=>[...T.value.__VISIBLE__.filter((e=>!e[p.value]))].slice(-1)[0])),F=(0,n.EW)((()=>[...R.value.__VISIBLE__.filter((e=>!e[p.value]))].slice(-1)[0])),V=e=>!(!y.value||!(!e.group&&y.value[i.value]===e[i.value]||void 0!==e.group&&y.value[u.value]===e[u.value]))||void 0,B=()=>{w(O.value[0]||null)},A=()=>{y.value&&!0!==y.value[p.value]&&(k.value?f(y.value):m(y.value))},j=()=>{if(null===y.value)w((s.value&&x.value?C.value[0].__CREATE__?O.value[0]:C.value[0]:O.value[0])||null);else if(s.value&&x.value){let e=k.value?I.value:D.value;void 0===e&&(e=q.value,e.__CREATE__&&(e=e[v.value][0])),w(e||null)}else{let e=O.value.map((e=>e[i.value])).indexOf(y.value[i.value])+1;O.value.length<=e&&(e=0),w(O.value[e]||null)}(0,n.dY)((()=>{Q()}))},$=()=>{if(null===y.value){let e=O.value[O.value.length-1];s.value&&x.value&&(e=F.value,void 0===e&&(e=R.value)),w(e||null)}else if(s.value&&x.value){let e=k.value?W.value:P.value;void 0===e&&(e=k.value?T.value:_.value,e.__CREATE__&&(e=W.value,void 0===e&&(e=T.value))),w(e||null)}else{let e=O.value.map((e=>e[i.value])).indexOf(y.value[i.value])-1;e<0&&(e=O.value.length-1),w(O.value[e]||null)}(0,n.dY)((()=>{Q()}))},K=e=>C.value.find((t=>-1!==t.__VISIBLE__.map((e=>e[i.value])).indexOf(e[i.value]))),Q=()=>{let e=L.value.querySelector("[data-pointed]");if(!e)return;let t=e.parentElement.parentElement;s.value&&(t=k.value?e.parentElement.parentElement.parentElement:e.parentElement.parentElement.parentElement.parentElement),e.offsetTop+e.offsetHeight>t.clientHeight+t.scrollTop&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.clientHeight),e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop)};return(0,n.wB)(b,(e=>{o.value&&(e.length&&r.value?B():E())})),(0,n.wB)(S,(e=>{if(e){let e=L.value.querySelectorAll("[data-selected]")[0];if(!e)return;let t=e.parentElement.parentElement;(0,n.dY)((()=>{t.scrollTop>0||(t.scrollTop=e.offsetTop)}))}})),{pointer:y,canPointGroups:x,isPointed:V,setPointerFirst:B,selectPointer:A,forwardPointer:j,backwardPointer:$}}function f(e,t,a){const{disabled:i}=(0,l.QW)(e),r=(0,n.nI)().proxy,o=(0,l.KR)(!1),u=()=>{o.value||i.value||(o.value=!0,t.emit("open",r))},s=()=>{o.value&&(o.value=!1,t.emit("close",r))};return{isOpen:o,open:u,close:s}}function b(e,t,a){const{searchable:i,disabled:r,clearOnBlur:o}=(0,l.QW)(e),u=a.input,s=a.open,c=a.close,d=a.clearSearch,p=a.isOpen,v=(0,l.KR)(null),h=(0,l.KR)(null),g=(0,l.KR)(null),m=(0,l.KR)(!1),f=(0,l.KR)(!1),b=(0,n.EW)((()=>i.value||r.value?-1:0)),y=()=>{i.value&&u.value.blur(),h.value.blur()},w=()=>{i.value&&!r.value&&u.value.focus()},E=(e=!0)=>{r.value||(m.value=!0,e&&s())},L=()=>{m.value=!1,setTimeout((()=>{m.value||(c(),o.value&&d())}),1)},S=e=>{e.target.closest("[data-tags]")&&"INPUT"!==e.target.nodeName||e.target.closest("[data-clear]")||E(f.value)},O=()=>{L()},C=()=>{L(),y()},x=e=>{f.value=!0,p.value&&(e.target.isEqualNode(h.value)||e.target.isEqualNode(g.value))?setTimeout((()=>{L()}),0):document.activeElement.isEqualNode(h.value)&&!p.value&&E(),setTimeout((()=>{f.value=!1}),0)};return{multiselect:v,wrapper:h,tags:g,tabindex:b,isActive:m,mouseClicked:f,blur:y,focus:w,activate:E,deactivate:L,handleFocusIn:S,handleFocusOut:O,handleCaretClick:C,handleMousedown:x}}function y(e,t,a){const{mode:i,addTagOn:r,openDirection:o,searchable:u,showOptions:s,valueProp:c,groups:d,addOptionOn:p,createTag:v,createOption:h,reverse:g}=(0,l.QW)(e),m=(0,n.nI)().proxy,f=a.iv,b=a.update,y=a.search,w=a.setPointer,E=a.selectPointer,L=a.backwardPointer,S=a.forwardPointer,O=a.multiselect,C=a.wrapper,x=a.tags,k=a.isOpen,_=a.open,T=a.blur,q=a.fo,R=(0,n.EW)((()=>v.value||h.value||!1)),I=(0,n.EW)((()=>void 0!==r.value?r.value:void 0!==p.value?p.value:["enter"])),P=()=>{"tags"===i.value&&!s.value&&R.value&&u.value&&!d.value&&w(q.value[q.value.map((e=>e[c.value])).indexOf(y.value)])},D=e=>{let t=e.length-1;while(t>=0&&(!1===e[t].remove||e[t].disabled))t--;return t<0||e.splice(t,1),e},W=e=>{let a,l;switch(t.emit("keydown",e,m),-1!==["ArrowLeft","ArrowRight","Enter"].indexOf(e.key)&&"tags"===i.value&&(a=[...O.value.querySelectorAll("[data-tags] > *")].filter((e=>e!==x.value)),l=a.findIndex((e=>e===document.activeElement))),e.key){case"Backspace":if("single"===i.value)return;if(u.value&&-1===[null,""].indexOf(y.value))return;if(0===f.value.length)return;b(D([...f.value]));break;case"Enter":if(e.preventDefault(),229===e.keyCode)return;if(-1!==l&&void 0!==l)return b([...f.value].filter(((e,t)=>t!==l))),void(l===a.length-1&&(a.length-1?a[a.length-2].focus():u.value?x.value.querySelector("input").focus():C.value.focus()));if(-1===I.value.indexOf("enter")&&R.value)return;P(),E();break;case" ":if(!R.value&&!u.value)return e.preventDefault(),P(),void E();if(!R.value)return!1;if(-1===I.value.indexOf("space")&&R.value)return;e.preventDefault(),P(),E();break;case"Tab":case";":case",":if(-1===I.value.indexOf(e.key.toLowerCase())||!R.value)return;P(),E(),e.preventDefault();break;case"Escape":T();break;case"ArrowUp":if(e.preventDefault(),!s.value)return;k.value||_(),L();break;case"ArrowDown":if(e.preventDefault(),!s.value)return;k.value||_(),S();break;case"ArrowLeft":if(u.value&&x.value&&x.value.querySelector("input").selectionStart||e.shiftKey||"tags"!==i.value||!f.value||!f.value.length)return;e.preventDefault(),-1===l?a[a.length-1].focus():l>0&&a[l-1].focus();break;case"ArrowRight":if(-1===l||e.shiftKey||"tags"!==i.value||!f.value||!f.value.length)return;e.preventDefault(),a.length>l+1?a[l+1].focus():u.value?x.value.querySelector("input").focus():u.value||C.value.focus();break}},F=e=>{t.emit("keyup",e,m)};return{handleKeydown:W,handleKeyup:F,preparePointer:P}}function w(e,t,a){const{classes:i,disabled:r,openDirection:o,showOptions:u}=(0,l.QW)(e),s=a.isOpen,c=a.isPointed,d=a.isSelected,p=a.isDisabled,v=a.isActive,h=a.canPointGroups,g=a.resolving,m=a.fo,f=(0,n.EW)((()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...i.value}))),b=(0,n.EW)((()=>!!(s.value&&u.value&&(!g.value||g.value&&m.value.length)))),y=(0,n.EW)((()=>{const e=f.value;return{container:[e.container].concat(r.value?e.containerDisabled:[]).concat(b.value&&"top"===o.value?e.containerOpenTop:[]).concat(b.value&&"top"!==o.value?e.containerOpen:[]).concat(v.value?e.containerActive:[]),wrapper:e.wrapper,spacer:e.spacer,singleLabel:e.singleLabel,singleLabelText:e.singleLabelText,multipleLabel:e.multipleLabel,search:e.search,tags:e.tags,tag:[e.tag].concat(r.value?e.tagDisabled:[]),tagDisabled:e.tagDisabled,tagRemove:e.tagRemove,tagRemoveIcon:e.tagRemoveIcon,tagsSearchWrapper:e.tagsSearchWrapper,tagsSearch:e.tagsSearch,tagsSearchCopy:e.tagsSearchCopy,placeholder:e.placeholder,caret:[e.caret].concat(s.value?e.caretOpen:[]),clear:e.clear,clearIcon:e.clearIcon,spinner:e.spinner,inifinite:e.inifinite,inifiniteSpinner:e.inifiniteSpinner,dropdown:[e.dropdown].concat("top"===o.value?e.dropdownTop:[]).concat(s.value&&u.value&&b.value?[]:e.dropdownHidden),options:[e.options].concat("top"===o.value?e.optionsTop:[]),group:e.group,groupLabel:t=>{let a=[e.groupLabel];return c(t)?a.push(d(t)?e.groupLabelSelectedPointed:e.groupLabelPointed):d(t)&&h.value?a.push(p(t)?e.groupLabelSelectedDisabled:e.groupLabelSelected):p(t)&&a.push(e.groupLabelDisabled),h.value&&a.push(e.groupLabelPointable),a},groupOptions:e.groupOptions,option:(t,a)=>{let l=[e.option];return c(t)?l.push(d(t)?e.optionSelectedPointed:e.optionPointed):d(t)?l.push(p(t)?e.optionSelectedDisabled:e.optionSelected):(p(t)||a&&p(a))&&l.push(e.optionDisabled),l},noOptions:e.noOptions,noResults:e.noResults,assist:e.assist,fakeInput:e.fakeInput}}));return{classList:y,showDropdown:b}}function E(e,t,a){const{limit:i,infinite:r}=(0,l.QW)(e),o=a.isOpen,u=a.offset,s=a.search,c=a.pfo,d=a.eo,p=(0,l.KR)(null),v=(0,l.KR)(null),h=(0,n.EW)((()=>u.value<c.value.length)),g=e=>{const{isIntersecting:t,target:a}=e[0];if(t){const e=a.offsetParent,t=e.scrollTop;u.value+=-1==i.value?10:i.value,(0,n.dY)((()=>{e.scrollTop=t}))}},m=()=>{o.value&&u.value<c.value.length?p.value.observe(v.value):!o.value&&p.value&&p.value.disconnect()};return(0,n.wB)(o,(()=>{r.value&&m()})),(0,n.wB)(s,(()=>{r.value&&(u.value=i.value,m())}),{flush:"post"}),(0,n.wB)(d,(()=>{r.value&&m()}),{immediate:!1,flush:"post"}),(0,n.sV)((()=>{window&&window.IntersectionObserver&&(p.value=new IntersectionObserver(g))})),{hasMore:h,infiniteLoader:v}}function L(e,t,a){const{placeholder:i,id:r,valueProp:o,label:u,mode:s,groupLabel:c,aria:d,searchable:p}=(0,l.QW)(e),v=a.pointer,h=a.iv,g=a.hasSelected,m=a.multipleLabelText,f=(0,l.KR)(null),b=(0,n.EW)((()=>{let e=[];return r&&r.value&&e.push(r.value),e.push("assist"),e.join("-")})),y=(0,n.EW)((()=>{let e=[];return r&&r.value&&e.push(r.value),e.push("multiselect-options"),e.join("-")})),w=(0,n.EW)((()=>{let e=[];if(r&&r.value&&e.push(r.value),v.value)return e.push(v.value.group?"multiselect-group":"multiselect-option"),e.push(v.value.group?v.value.index:v.value[o.value]),e.join("-")})),E=(0,n.EW)((()=>i.value)),L=(0,n.EW)((()=>"single"!==s.value)),S=(0,n.EW)((()=>{let e="";return"single"===s.value&&g.value&&(e+=h.value[u.value]),"multiple"===s.value&&g.value&&(e+=m.value),"tags"===s.value&&g.value&&(e+=h.value.map((e=>e[u.value])).join(", ")),e})),O=(0,n.EW)((()=>{let e={...d.value};return p.value&&(e["aria-labelledby"]=e["aria-labelledby"]?`${b.value} ${e["aria-labelledby"]}`:b.value,S.value&&e["aria-label"]&&(e["aria-label"]=`${S.value}, ${e["aria-label"]}`)),e})),C=e=>{let t=[];return r&&r.value&&t.push(r.value),t.push("multiselect-option"),t.push(e[o.value]),t.join("-")},x=e=>{let t=[];return r&&r.value&&t.push(r.value),t.push("multiselect-group"),t.push(e.index),t.join("-")},k=e=>{let t=[];return t.push(e),t.join(" ")},_=e=>{let t=[];return t.push(e),t.join(" ")},T=e=>`${e} ❎`;return(0,n.sV)((()=>{if(r&&r.value&&document&&document.querySelector){let e=document.querySelector(`[for="${r.value}"]`);f.value=e?e.innerText:null}})),{arias:O,ariaLabel:S,ariaAssist:b,ariaControls:y,ariaPlaceholder:E,ariaMultiselectable:L,ariaActiveDescendant:w,ariaOptionId:C,ariaOptionLabel:k,ariaGroupId:x,ariaGroupLabel:_,ariaTagLabel:T}}function S(e,t,a){const{locale:n,fallbackLocale:i}=(0,l.QW)(e),r=e=>e&&"object"===typeof e?e&&e[n.value]?e[n.value]:e&&n.value&&e[n.value.toUpperCase()]?e[n.value.toUpperCase()]:e&&e[i.value]?e[i.value]:e&&i.value&&e[i.value.toUpperCase()]?e[i.value.toUpperCase()]:e&&Object.keys(e)[0]?e[Object.keys(e)[0]]:"":e;return{localize:r}}function O(e,t,a,l={}){return a.forEach((a=>{a&&(l={...l,...a(e,t,l)})})),l}var C={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1}},setup(e,t){return O(e,t,[S,s,d,f,c,u,b,g,E,m,y,w,L])}};const x=["id","dir"],k=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],_=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],T=["onKeyup","aria-label"],q=["onClick"],R=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],I=["innerHTML"],P=["id"],D=["id","aria-label","aria-selected"],W=["data-pointed","onMouseenter","onClick"],F=["innerHTML"],V=["aria-label"],B=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],A=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],j=["innerHTML"],$=["innerHTML"],K=["value"],Q=["name","value"],M=["name","value"],X=["id"];function G(e,t,a,l,o,u){return(0,n.uX)(),(0,n.CE)("div",{ref:"multiselect",class:(0,i.C4)(e.classList.container),id:a.searchable?void 0:a.id,dir:a.rtl?"rtl":void 0,onFocusin:t[10]||(t[10]=(...t)=>e.handleFocusIn&&e.handleFocusIn(...t)),onFocusout:t[11]||(t[11]=(...t)=>e.handleFocusOut&&e.handleFocusOut(...t)),onKeyup:t[12]||(t[12]=(...t)=>e.handleKeyup&&e.handleKeyup(...t)),onKeydown:t[13]||(t[13]=(...t)=>e.handleKeydown&&e.handleKeydown(...t))},[(0,n.Lk)("div",(0,n.v6)({class:e.classList.wrapper,onMousedown:t[9]||(t[9]=(...t)=>e.handleMousedown&&e.handleMousedown(...t)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":a.searchable?void 0:e.ariaControls,"aria-placeholder":a.searchable?void 0:e.ariaPlaceholder,"aria-expanded":a.searchable?void 0:e.isOpen,"aria-activedescendant":a.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":a.searchable?void 0:e.ariaMultiselectable,role:a.searchable?void 0:"combobox"},a.searchable?{}:e.arias),[(0,n.Q3)(" Search "),"tags"!==a.mode&&a.searchable&&!a.disabled?((0,n.uX)(),(0,n.CE)("input",(0,n.v6)({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:a.autocomplete,id:a.searchable?a.id:void 0,onInput:t[0]||(t[0]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:t[1]||(t[1]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:t[2]||(t[2]=(0,r.D$)(((...t)=>e.handlePaste&&e.handlePaste(...t)),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,_)):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Tags (with search) "),"tags"==a.mode?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,i.C4)(e.classList.tags),"data-tags":""},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.iv,((t,l,o)=>(0,n.RG)(e.$slots,"tag",{option:t,handleTagRemove:e.handleTagRemove,disabled:a.disabled},(()=>[((0,n.uX)(),(0,n.CE)("span",{class:(0,i.C4)([e.classList.tag,t.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:(0,r.jR)((a=>e.handleTagRemove(t,a)),["enter"]),key:o,"aria-label":e.ariaTagLabel(e.localize(t[a.label]))},[(0,n.eW)((0,i.v_)(e.localize(t[a.label]))+" ",1),a.disabled||t.disabled?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,i.C4)(e.classList.tagRemove),onClick:(0,r.D$)((a=>e.handleTagRemove(t,a)),["stop"])},[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.tagRemoveIcon)},null,2)],10,q))],42,T))])))),256)),(0,n.Lk)("div",{class:(0,i.C4)(e.classList.tagsSearchWrapper),ref:"tags"},[(0,n.Q3)(" Used for measuring search width "),(0,n.Lk)("span",{class:(0,i.C4)(e.classList.tagsSearchCopy)},(0,i.v_)(e.search),3),(0,n.Q3)(" Actual search input "),a.searchable&&!a.disabled?((0,n.uX)(),(0,n.CE)("input",(0,n.v6)({key:0,type:a.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:a.searchable?a.id:void 0,autocomplete:a.autocomplete,onInput:t[3]||(t[3]=(...t)=>e.handleSearchInput&&e.handleSearchInput(...t)),onKeypress:t[4]||(t[4]=(...t)=>e.handleKeypress&&e.handleKeypress(...t)),onPaste:t[5]||(t[5]=(0,r.D$)(((...t)=>e.handlePaste&&e.handlePaste(...t)),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...a.attrs,...e.arias}),null,16,R)):(0,n.Q3)("v-if",!0)],2)],2)):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Single label "),"single"==a.mode&&e.hasSelected&&!e.search&&e.iv?(0,n.RG)(e.$slots,"singlelabel",{key:2,value:e.iv},(()=>[(0,n.Lk)("div",{class:(0,i.C4)(e.classList.singleLabel)},[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.singleLabelText)},(0,i.v_)(e.localize(e.iv[a.label])),3)],2)])):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Multiple label "),"multiple"==a.mode&&e.hasSelected&&!e.search?(0,n.RG)(e.$slots,"multiplelabel",{key:3,values:e.iv},(()=>[(0,n.Lk)("div",{class:(0,i.C4)(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,I)])):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Placeholder "),!a.placeholder||e.hasSelected||e.search?(0,n.Q3)("v-if",!0):(0,n.RG)(e.$slots,"placeholder",{key:4},(()=>[(0,n.Lk)("div",{class:(0,i.C4)(e.classList.placeholder),"aria-hidden":"true"},(0,i.v_)(a.placeholder),3)])),(0,n.Q3)(" Spinner "),a.loading||e.resolving?(0,n.RG)(e.$slots,"spinner",{key:5},(()=>[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.spinner),"aria-hidden":"true"},null,2)])):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Clear "),e.hasSelected&&!a.disabled&&a.canClear&&!e.busy?(0,n.RG)(e.$slots,"clear",{key:6,clear:e.clear},(()=>[(0,n.Lk)("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"❎",class:(0,i.C4)(e.classList.clear),onClick:t[6]||(t[6]=(...t)=>e.clear&&e.clear(...t)),onKeyup:t[7]||(t[7]=(0,r.jR)(((...t)=>e.clear&&e.clear(...t)),["enter"]))},[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.clearIcon)},null,2)],34)])):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Caret "),a.caret&&a.showOptions?(0,n.RG)(e.$slots,"caret",{key:7},(()=>[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.caret),onClick:t[8]||(t[8]=(...t)=>e.handleCaretClick&&e.handleCaretClick(...t)),"aria-hidden":"true"},null,2)])):(0,n.Q3)("v-if",!0)],16,k),(0,n.Q3)(" Options "),(0,n.Lk)("div",{class:(0,i.C4)(e.classList.dropdown),tabindex:"-1"},[(0,n.RG)(e.$slots,"beforelist",{options:e.fo}),(0,n.Lk)("ul",{class:(0,i.C4)(e.classList.options),id:e.ariaControls,role:"listbox"},[a.groups?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(e.fg,((t,l,r)=>((0,n.uX)(),(0,n.CE)("li",{class:(0,i.C4)(e.classList.group),key:r,id:e.ariaGroupId(t),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),"aria-selected":e.isSelected(t),role:"option"},[t.__CREATE__?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,i.C4)(e.classList.groupLabel(t)),"data-pointed":e.isPointed(t),onMouseenter:a=>e.setPointer(t,l),onClick:a=>e.handleGroupClick(t)},[(0,n.RG)(e.$slots,"grouplabel",{group:t,isSelected:e.isSelected,isPointed:e.isPointed},(()=>[(0,n.Lk)("span",{innerHTML:e.localize(t[a.groupLabel])},null,8,F)]))],42,W)),(0,n.Lk)("ul",{class:(0,i.C4)(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(t[a.groupLabel])),role:"group"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.__VISIBLE__,((l,r,o)=>((0,n.uX)(),(0,n.CE)("li",{class:(0,i.C4)(e.classList.option(l,t)),"data-pointed":e.isPointed(l),"data-selected":e.isSelected(l)||void 0,key:o,onMouseenter:t=>e.setPointer(l),onClick:t=>e.handleOptionClick(l),id:e.ariaOptionId(l),"aria-selected":e.isSelected(l),"aria-label":e.ariaOptionLabel(e.localize(l[a.label])),role:"option"},[(0,n.RG)(e.$slots,"option",{option:l,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},(()=>[(0,n.Lk)("span",null,(0,i.v_)(e.localize(l[a.label])),1)]))],42,B)))),128))],10,V)],10,D)))),128)):((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.fo,((t,l,r)=>((0,n.uX)(),(0,n.CE)("li",{class:(0,i.C4)(e.classList.option(t)),"data-pointed":e.isPointed(t),"data-selected":e.isSelected(t)||void 0,key:r,onMouseenter:a=>e.setPointer(t),onClick:a=>e.handleOptionClick(t),id:e.ariaOptionId(t),"aria-selected":e.isSelected(t),"aria-label":e.ariaOptionLabel(e.localize(t[a.label])),role:"option"},[(0,n.RG)(e.$slots,"option",{option:t,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},(()=>[(0,n.Lk)("span",null,(0,i.v_)(e.localize(t[a.label])),1)]))],42,A)))),128))],10,P),e.noOptions?(0,n.RG)(e.$slots,"nooptions",{key:0},(()=>[(0,n.Lk)("div",{class:(0,i.C4)(e.classList.noOptions),innerHTML:e.localize(a.noOptionsText)},null,10,j)])):(0,n.Q3)("v-if",!0),e.noResults?(0,n.RG)(e.$slots,"noresults",{key:1},(()=>[(0,n.Lk)("div",{class:(0,i.C4)(e.classList.noResults),innerHTML:e.localize(a.noResultsText)},null,10,$)])):(0,n.Q3)("v-if",!0),a.infinite&&e.hasMore?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,i.C4)(e.classList.inifinite),ref:"infiniteLoader"},[(0,n.RG)(e.$slots,"infinite",{},(()=>[(0,n.Lk)("span",{class:(0,i.C4)(e.classList.inifiniteSpinner)},null,2)]))],2)):(0,n.Q3)("v-if",!0),(0,n.RG)(e.$slots,"afterlist",{options:e.fo})],2),(0,n.Q3)(" Hacky input element to show HTML5 required warning "),a.required?((0,n.uX)(),(0,n.CE)("input",{key:0,class:(0,i.C4)(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,K)):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Native input support "),a.nativeSupport?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},["single"==a.mode?((0,n.uX)(),(0,n.CE)("input",{key:0,type:"hidden",name:a.name,value:void 0!==e.plainValue?e.plainValue:""},null,8,Q)):((0,n.uX)(!0),(0,n.CE)(n.FK,{key:1},(0,n.pI)(e.plainValue,((e,t)=>((0,n.uX)(),(0,n.CE)("input",{type:"hidden",name:`${a.name}[]`,value:e,key:t},null,8,M)))),128))],64)):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Screen reader assistive text "),a.searchable&&e.hasSelected?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,i.C4)(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},(0,i.v_)(e.ariaLabel),11,X)):(0,n.Q3)("v-if",!0),(0,n.Q3)(" Create height for empty input "),(0,n.Lk)("div",{class:(0,i.C4)(e.classList.spacer)},null,2)],42,x)}C.render=G,C.__file="src/Multiselect.vue"},7034:(e,t,a)=>{a.d(t,{A:()=>y});var l=a(641),n=a(33),i=a(3751);const r={key:1,class:"multiselect-single-label-readonly"};function o(e,t,a,o,u,s){const c=(0,l.g2)("wwElement",!0),d=(0,l.g2)("wwText"),p=(0,l.g2)("wwLayoutItemContext"),v=(0,l.g2)("OptionItem"),h=(0,l.g2)("Multiselect");return s.isReadonly?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(d,{text:s.valueLabel},null,8,["text"]),s.internalValue?((0,l.uX)(),(0,l.Wv)(c,(0,l.v6)({key:0,style:{opacity:"0","pointer-events":"none"}},a.content.clearIconElement),null,16)):(0,l.Q3)("",!0),(0,l.bF)(c,(0,l.v6)({style:{opacity:"0","pointer-events":"none"}},a.content.caretIconElement),null,16)])):((0,l.uX)(),(0,l.Wv)(h,(0,l.v6)({ref:"select",key:e.componentKey,modelValue:s.internalValue,"onUpdate:modelValue":t[4]||(t[4]=e=>s.internalValue=e),class:["ww-input-select",{editing:s.isEditing}],mode:"single",style:s.cssVariables,classes:{containerOpen:"is-open",containerOpenTop:"is-open-top"}},s.selectProps,{onClose:s.checkIsOpen,onFocusCapture:s.interceptFocus,onFocusinCapture:s.interceptFocus}),{placeholder:(0,l.k6)((()=>[(0,l.bF)(c,(0,l.v6)({class:"multiselect-placeholder-el"},a.content.placeholderElement,{"ww-props":{text:s.placeholder||""}}),null,16,["ww-props"])])),singlelabel:(0,l.k6)((({value:e})=>[(0,l.Lk)("div",{class:"multiselect-single-label",style:(0,n.Tr)(e.style||s.defaultOptionStyle)},[(0,l.bF)(p,{index:e=>s.getValueIndex(e),item:{},"is-repeat":"",data:{...e,label:s.getLabel(e)}},{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"multiselect-single-label-el",text:s.getLabel(e)},null,8,["text"])])),_:2},1032,["index","data"])],4)])),option:(0,l.k6)((({option:e})=>[(0,l.bF)(p,{index:e=>s.getOptionIndex(e),item:{},"is-repeat":"",data:{...e,label:s.getLabel(e)}},{default:(0,l.k6)((()=>[(0,l.bF)(v,{option:{...e,label:s.getLabel(e)},layoutType:a.content.layoutType,flexboxElement:a.content.flexboxElement,imageElement:a.content.imageElement,textElement:a.content.textElement,onMousedown:t[0]||(t[0]=e=>s.isEditing&&e.stopPropagation()),onClick:t[1]||(t[1]=e=>s.isEditing&&e.stopPropagation())},null,8,["option","layoutType","flexboxElement","imageElement","textElement"])])),_:2},1032,["index","data"])])),caret:(0,l.k6)((()=>[(0,l.bF)(c,(0,l.v6)(a.content.caretIconElement,{onMousedown:t[2]||(t[2]=e=>s.isEditing&&e.stopPropagation())}),null,16)])),clear:(0,l.k6)((()=>[(0,l.Lk)("div",{onMousedown:t[3]||(t[3]=(0,i.D$)((()=>{}),["stop"])),style:{zIndex:2}},[(0,l.bF)(c,(0,l.v6)(a.content.clearIconElement,{onClick:s.clear}),null,16,["onClick"])],32)])),_:1},16,["modelValue","style","class","onClose","onFocusCapture","onFocusinCapture"]))}var u=a(3754);function s(e,t,a,n,i,r){const o=(0,l.g2)("wwElement");return"text"===a.layoutType?((0,l.uX)(),(0,l.Wv)(o,(0,l.v6)({key:0,class:"multiselect-single-label-el"},a.textElement,{"ww-props":{text:a.option.label||""},states:n.optionStates}),null,16,["ww-props","states"])):((0,l.uX)(),(0,l.Wv)(o,(0,l.v6)({key:1,class:"multiselect-single-label-el free-layout"},a.flexboxElement,{states:n.optionStates}),null,16,["states"]))}var c=a(953);const d={props:{option:{type:Object,required:!0},layoutType:{type:String,required:!0},textElement:{type:Object,required:!0},flexboxElement:{type:Object,required:!0}},setup(){const e=null,t=(0,c.KR)([]);return{observer:e,optionStates:t}},mounted(){const e=this.$el.parentElement;e&&(this.observer=new MutationObserver((e=>{for(const t of e){const e=t.target.getAttribute(t.attributeName);this.$nextTick((()=>{this.handleOntionState(e)}))}})),this.observer.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}))},methods:{handleOntionState(e){e&&"string"===typeof e&&(e.includes("is-pointed")&&!e.includes("is-selected")?this.optionStates=[":hover"]:!e.includes("is-pointed")&&e.includes("is-selected")?this.optionStates=["Selected"]:e.includes("is-pointed")&&e.includes("is-selected")?this.optionStates=["Selected:hover"]:this.optionStates=[])}},beforeUnmount(){this.observer&&this.observer.disconnect()}};var p=a(6262);const v=(0,p.A)(d,[["render",s]]),h=v,g="label",m="value",f={components:{Multiselect:u.A,OptionItem:h},props:{uid:{type:String,required:!0},content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","update:content","update:content:effect","add-state","remove-state"],setup(e){const{value:t,setValue:a}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"string",defaultValue:(0,l.EW)((()=>e.content.initialValue??""))}),n=(0,l.WQ)("componentStyle"),i=(0,l.EW)((()=>n.cursor));return{currentSelection:t,setCurrentSelection:a,cursor:i}},data:()=>({options:[],componentKey:0}),computed:{currentLang(){return wwLib.wwLang.lang},isEditing(){return!1},selectProps(){return{closeOnSelect:this.content.closeOnSelect,searchable:this.content.searchable,required:this.content.required,disabled:this.content.disabled,placeholder:"placeholder",noOptionsText:this.content.noOptionsText,noResultsText:this.content.noResultsText,canClear:this.content.clearIcon,canDeselect:this.content.canDeselect,caret:this.content.caretIcon,name:this.wwElementState.name,options:this.options,infinite:this.content.infiniteScroll,limit:this.content.limitedOptions?this.content.limit:-1,resolveOnLoad:!1,locale:this.currentLang}},internalValue:{get(){return this.content.allowCreation&&this.currentSelection&&!this.options.some((e=>e.value===this.currentSelection))&&this.options.push(this.formatOption(this.currentSelection)),this.currentSelection},set(e){this.setCurrentSelection(e),this.$emit("trigger-event",{name:"change",event:{domEvent:{},value:e}})}},placeholder(){return wwLib.wwLang.getText(this.content.placeholder)},valueLabel(){const e=this.options.find((e=>e.value==this.internalValue));return e?wwLib.wwLang.getText(e.label):this.internalValue},defaultOptionStyle(){return{backgroundColor:this.content.optionsDefaultBgColor,color:this.content.optionsDefaultTextColor}},cssVariables(){return{"--ms-dropdown-bg":this.content.dropdownBackgroundColor,"--ms-dropdown-border-width":this.content.dropdownBorderWidth||"0px","--ms-dropdown-border-color":this.content.dropdownBorderColor,"--ms-dropdown-radius":this.content.dropdownBorderRadius||"0px","--ms-max-height":this.content.dropdownMaxHeight||"10rem","--ms-option-bg-pointed":"transparent","--ms-option-bg-selected":"transparent","--ms-option-bg-selected-pointed":"transparent","--ms-option-color-pointed":"#000000","--ms-option-color-selected":"#000000","--ms-option-color-selected-pointed":"#000000","--ms-ring-width":"0px","--ms-ring-color":"transparent","--ms-spinner-color":this.content.loadingRingColor,"--search-font-size":this.content.searchFontSize||"inherit","--search-font-family":this.content.searchFontFamily||"inherit","--search-font-color":this.content.searchFontColor||"inherit","--component-cursor":this.cursor||"pointer"}},isReadonly(){return void 0===this.wwElementState.props.readonly?this.content.readonly:this.wwElementState.props.readonly}},watch:{textStyle(){return wwLib.getTextStyleFromContent(this.content)},async"content.initialValue"(e){this.init(),await this.$nextTick(),this.setCurrentSelection(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}})},"content.options":{deep:!0,handler(){this.init()}},"content.layoutType"(){this.init()},"content.labelField"(){this.init()},"content.valueField"(){this.init()},currentLang(){this.componentKey+=1,this.$nextTick((()=>{this.init()}))},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}},"content.limit"(){this.componentKey+=1,this.$nextTick((()=>{this.init()}))}},created(){this.init()},methods:{async init(){this.options=[];const e=Array.isArray(this.content.options)?[...this.content.options]:[];this.options.push(...e.map((e=>this.formatOption(e)))),void 0!==this.content.initialValue&&this.content.allowCreation&&!this.options.some((e=>e===this.content.initialValue||e.value===this.content.initialValue))&&this.options.push(this.formatOption(this.content.initialValue))},getValueIndex(e){return this.options.findIndex((t=>t.value===e.value))},getOptionIndex(e){return this.options.indexOf(e)},formatOption(e){const t=this.content.labelField||g,a=this.content.valueField||m;let l=wwLib.resolveObjectPropertyPath(e,t);const n=wwLib.resolveObjectPropertyPath(e,a);return"object"!==typeof l&&(l=wwLib.resolveObjectPropertyPath(e,wwLib.wwLang.getText(t))),"free"===this.content.layoutType?{label:l,value:n,data:e}:"object"===typeof e?{label:l,value:n,image:wwLib.resolveObjectPropertyPath(e,"image"),style:{backgroundColor:wwLib.resolveObjectPropertyPath(e,"bgColor")||"#FFFFFF00",color:wwLib.resolveObjectPropertyPath(e,"textColor")||"#000000"},data:e}:{label:e,value:e}},getLabel(e){return e&&void 0!==e.label&&null!==e.label?`${wwLib.wwLang.getText(e.label)}`:""},handleOpening(e){this.$refs.select&&(e?this.$refs.select.open():this.$refs.select.close())},checkIsOpen(){},clear(){this.isEditing||(this.internalValue="")},interceptFocus(e){this.isEditing&&e.target.classList.contains("multiselect-wrapper")&&(e.stopPropagation(),e.preventDefault())}}},b=(0,p.A)(f,[["render",o],["__scopeId","data-v-c05ba7ac"]]),y=b}}]);